let config = {"nama":"test","file":{"css":[{"nama":"css.css","url":"css/css.css","konten":"html, body, div, canvas {\r\n\tbox-sizing: border-box;\r\n\tmargin: 0px;\r\n\tpadding: 0px;\r\n\toverflow-y: hidden;\r\n\toverflow-x: hidden;\r\n}\r\n\r\nhtml, body, canvas {\r\n\tbackground-color: black;\r\n\tcolor: black;\r\n}\r\n\r\nhtml, body {\r\n\theight: 100%;\r\n}\r\n\r\nbutton {\r\n\tmargin: 4px;\r\n\tpadding-top:4px;\r\n\tpadding-bottom: 4px;\r\n\tuser-select: none;\r\n\t-ms-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-webkit-user-select: none;\r\n\tmax-width: 250px;\r\n}\r\n\r\ninput {\r\n\tmax-width: 300px;\r\n}\r\n\r\ncanvas {\r\n\tmargin: auto;\r\n\tposition: absolute;\r\n}\r\n\r\ndiv.room-gen {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n\tmax-width: 100vh;\r\n\tmargin:auto;\r\n\tbackground-color: antiquewhite;\r\n}\r\n\r\ndiv.room-gen div.canvas-cont {\r\n\tposition: relative;\r\n\tflex-grow: 1;\r\n\tbackground-color: black;\r\n}\r\n\r\ndiv.room-gen div.setting-cont {\r\n\tdisplay: flex;\r\n\tbackground-color: burlywood;\r\n}\r\n\r\ndiv.room-gen div.setting-cont div.ukuran-cont {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\twidth: 50%;\r\n\tpadding: 8px;\r\n\t/* padding-left: 8px; */\r\n}\r\n\r\ndiv.room-gen div.setting-cont div.tombol-cont {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\twidth: 50%;\r\n\ttext-align: center;\r\n\tpadding: 8px;\r\n}"}],"js":[{"nama":"RoomGen.js","url":"js/RoomGen.js","konten":"\"use strict\";\r\nconst RG_KOSONG = 1;\r\nconst RG_UBIN = 2;\r\nconst RG_TEMBOK = 3;\r\nconst RG_PINTU_KANAN = 4;\r\nconst RG_PINTU_KIRI = 5;\r\nconst RGST_AWAL = 1;\r\nconst RGST_TEMBOK = 2;\r\nconst RGST_PILIH_TEMBOK = 3;\r\nconst RGST_UBIN_BARU = 4;\r\nconst RGST_SELESAI = 5;\r\nlet rgPeta = [];\r\nlet rgState = 1;\r\nlet rgTembokAktif;\r\nlet rgJmlUbinMax = 40;\r\nlet rgJmlUbin = 0;\r\nlet rgPetaPjg = 10;\r\nlet rgPetalbr = 10;\r\nfunction rgPasangPintuKiri() {\r\n    let posx = 1000;\r\n    let posy = 1000;\r\n    for (let i = 0; i < rgPetalbr; i++) {\r\n        for (let j = 0; j < rgPetaPjg; j++) {\r\n            if (rgPeta[i][j].type == RG_TEMBOK) {\r\n                if (rgPintuKiriOk(i, j)) {\r\n                    if (i < posx) {\r\n                        posx = i;\r\n                        posy = j;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (posx < 1000) {\r\n        rgPeta[posx][posy].type = RG_PINTU_KIRI;\r\n    }\r\n}\r\nfunction rgPintuKiriOk(x, y) {\r\n    if (x == rgPetaPjg - 1)\r\n        return false;\r\n    if (rgPeta[x + 1][y].type != RG_UBIN)\r\n        return false;\r\n    return true;\r\n}\r\nfunction rgPintuKananOk(x, y) {\r\n    if (x == 0)\r\n        return false;\r\n    if (rgPeta[x - 1][y].type != RG_UBIN)\r\n        return false;\r\n    return true;\r\n}\r\nfunction rgSekelilingAdaUbin(x, y) {\r\n    if (x > 0) {\r\n        if (y > 0) {\r\n            if (rgPeta[x - 1][y - 1].type == RG_UBIN)\r\n                return true;\r\n        }\r\n        if (y < rgPetalbr - 1) {\r\n            if (rgPeta[x - 1][y + 1].type == RG_UBIN)\r\n                return true;\r\n        }\r\n    }\r\n    if (x < rgPetaPjg - 1) {\r\n        if (y > 0) {\r\n            if (rgPeta[x + 1][y - 1].type == RG_UBIN)\r\n                return true;\r\n        }\r\n        if (y < rgPetalbr - 1) {\r\n            if (rgPeta[x + 1][y + 1].type == RG_UBIN)\r\n                return true;\r\n        }\r\n    }\r\n    return rgSebelahAdaUbin(x, y);\r\n}\r\nfunction rgStateUbinBaru() {\r\n    if (rgTembokAktif) {\r\n        rgTembokAktif.type = RG_UBIN;\r\n        rgState = RGST_TEMBOK;\r\n        rgJmlUbin++;\r\n    }\r\n}\r\nfunction rgBuat() {\r\n    rgReset();\r\n    while (rgState != RGST_SELESAI) {\r\n        // console.log('udate state ' + rgState);\r\n        rgStateUpdate();\r\n    }\r\n}\r\nfunction rgPinggir(x, y) {\r\n    if (x == 0)\r\n        return true;\r\n    if (x == rgPetaPjg - 1)\r\n        return true;\r\n    if (y == 0)\r\n        return true;\r\n    if (y == rgPetalbr - 1)\r\n        return true;\r\n    return false;\r\n}\r\nfunction rgSebelahAdaUbin(x, y) {\r\n    if (x > 0) {\r\n        if (rgPeta[x - 1][y].type == RG_UBIN)\r\n            return true;\r\n    }\r\n    if (x < rgPetaPjg - 1) {\r\n        if (rgPeta[x + 1][y].type == RG_UBIN)\r\n            return true;\r\n    }\r\n    if (y > 0) {\r\n        if (rgPeta[x][y - 1].type == RG_UBIN)\r\n            return true;\r\n    }\r\n    if (y < rgPetalbr - 1) {\r\n        if (rgPeta[x][y + 1].type == RG_UBIN)\r\n            return true;\r\n    }\r\n    return false;\r\n}\r\nfunction rgPasangPintuKanan() {\r\n    let posx = -1;\r\n    let posy = -1;\r\n    for (let i = 0; i < rgPetalbr; i++) {\r\n        for (let j = 0; j < rgPetaPjg; j++) {\r\n            if (rgPeta[i][j].type == RG_TEMBOK) {\r\n                if (rgPintuKananOk(i, j)) {\r\n                    if (i > posx) {\r\n                        posx = i;\r\n                        posy = j;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (posx >= 0) {\r\n        rgPeta[posx][posy].type = RG_PINTU_KANAN;\r\n    }\r\n}\r\nfunction rgStateAwal() {\r\n    rgPeta[Math.floor(rgPetaPjg / 2)][Math.floor(rgPetalbr / 2)].type = RG_UBIN;\r\n    rgState = RGST_TEMBOK;\r\n}\r\nfunction rgStateBangunTembok() {\r\n    //set tembok\r\n    for (let i = 0; i < rgPetalbr; i++) {\r\n        for (let j = 0; j < rgPetaPjg; j++) {\r\n            if (rgPeta[i][j].type == RG_KOSONG) {\r\n                if (rgSekelilingAdaUbin(i, j)) {\r\n                    rgPeta[i][j].type = RG_TEMBOK;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (rgJmlUbin >= rgJmlUbinMax) {\r\n        rgPasangPintuKiri();\r\n        rgPasangPintuKanan();\r\n        rgState = RGST_SELESAI;\r\n    }\r\n    else {\r\n        rgState = RGST_PILIH_TEMBOK;\r\n    }\r\n}\r\nfunction rgStatePilihTembok() {\r\n    let kotakAr = [];\r\n    for (let i = 0; i < rgPetalbr; i++) {\r\n        for (let j = 0; j < rgPetaPjg; j++) {\r\n            if (rgPeta[i][j].type == RG_TEMBOK) {\r\n                if (rgSebelahAdaUbin(i, j) && !rgPinggir(i, j)) {\r\n                    kotakAr.push(rgPeta[i][j]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    rgTembokAktif = kotakAr[Math.floor(Math.random() * kotakAr.length)];\r\n    rgState = RGST_UBIN_BARU;\r\n}\r\nfunction rgReset() {\r\n    for (let i = 0; i < rgPetalbr; i++) {\r\n        rgPeta[i] = new Array(10);\r\n        for (let j = 0; j < rgPetaPjg; j++) {\r\n            rgPeta[i][j] = {\r\n                type: RG_KOSONG,\r\n                pemilik: []\r\n            };\r\n        }\r\n    }\r\n    rgState = RGST_AWAL;\r\n}\r\nfunction rgStateUpdate() {\r\n    // state++;\r\n    if (rgState == RGST_AWAL) {\r\n        rgStateAwal();\r\n    }\r\n    else if (rgState == RGST_TEMBOK) {\r\n        rgStateBangunTembok();\r\n    }\r\n    else if (rgState == RGST_PILIH_TEMBOK) {\r\n        rgStatePilihTembok();\r\n    }\r\n    else if (rgState == RGST_UBIN_BARU) {\r\n        rgStateUbinBaru();\r\n    }\r\n    else if (rgState == RGST_SELESAI) {\r\n        //selesai\r\n    }\r\n    else {\r\n        throw Error('state tidak terdaftar');\r\n    }\r\n}\r\n"},{"nama":"Game.js","url":"js/Game.js","konten":"\"use strict\";\r\nlet kanvas;\r\nlet kanvasCont;\r\nlet kanvasCtx;\r\nlet resetTbl;\r\nlet bangunTbl;\r\nlet ukuranInput;\r\nconst waranaUbin = '#00c000';\r\nconst warnaTembok = '#808080';\r\nconst warnaTembokPilih = '#c0c000';\r\nconst warnaPinggir = '#c00000';\r\nconst warnaDasar = '#202020';\r\nconst warnaPintuKanan = '#0000c0';\r\nwindow.onload = () => {\r\n    kanvas = document.body.querySelector('canvas');\r\n    kanvasCtx = kanvas.getContext(\"2d\");\r\n    kanvasCont = document.body.querySelector('div.room-gen div.canvas-cont');\r\n    resetTbl = document.body.querySelector('button.reset');\r\n    ukuranInput = document.body.querySelector('input.ukuran');\r\n    bangunTbl = document.body.querySelector('button.bangun');\r\n    bangunTbl.disabled = true;\r\n    bangunTbl.onclick = (e) => {\r\n        e.stopPropagation();\r\n        rgStateUpdate();\r\n        gambar();\r\n    };\r\n    ukuranInput.oninput = (e) => {\r\n        e.stopPropagation();\r\n        bangunTbl.disabled = true;\r\n    };\r\n    resetTbl.onclick = (e) => {\r\n        e.stopPropagation();\r\n        rgJmlUbinMax = parseInt(ukuranInput.value);\r\n        if (isNaN(rgJmlUbinMax)) {\r\n            rgJmlUbinMax = 50;\r\n        }\r\n        if (rgJmlUbinMax < 10)\r\n            rgJmlUbinMax = 10;\r\n        if (rgJmlUbinMax > 50)\r\n            rgJmlUbinMax = 50;\r\n        rgJmlUbin = 0;\r\n        console.log(rgJmlUbinMax);\r\n        bangunTbl.disabled = false;\r\n        rgReset();\r\n        rgStateUpdate();\r\n        gambar();\r\n    };\r\n    rgReset();\r\n    window.onresize = resize;\r\n    resize();\r\n};\r\nfunction gambar() {\r\n    console.log('gambar');\r\n    kanvasCtx.clearRect(0, 0, 320, 320);\r\n    for (let i = 0; i < rgPetalbr; i++) {\r\n        for (let j = 0; j < rgPetaPjg; j++) {\r\n            if (rgPeta[i][j].type == RG_KOSONG) {\r\n                kanvasCtx.fillStyle = warnaDasar;\r\n                kanvasCtx.fillRect(i * 32, j * 32, 32, 32);\r\n            }\r\n            else if (rgPeta[i][j].type == RG_TEMBOK) {\r\n                if (rgPeta[i][j] == rgTembokAktif) {\r\n                    kanvasCtx.fillStyle = warnaTembokPilih;\r\n                    kanvasCtx.fillRect(i * 32, j * 32, 32, 32);\r\n                }\r\n                else {\r\n                    kanvasCtx.fillStyle = warnaTembok;\r\n                    kanvasCtx.fillRect(i * 32, j * 32, 32, 32);\r\n                }\r\n            }\r\n            else if (rgPeta[i][j].type == RG_UBIN) {\r\n                kanvasCtx.fillStyle = waranaUbin;\r\n                kanvasCtx.fillRect(i * 32, j * 32, 32, 32);\r\n            }\r\n            else if (rgPeta[i][j].type == RG_PINTU_KANAN) {\r\n                kanvasCtx.fillStyle = warnaPintuKanan;\r\n                kanvasCtx.fillRect(i * 32, j * 32, 32, 32);\r\n            }\r\n            else if (rgPeta[i][j].type == RG_PINTU_KIRI) {\r\n                kanvasCtx.fillStyle = warnaPintuKanan;\r\n                kanvasCtx.fillRect(i * 32, j * 32, 32, 32);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction resize() {\r\n    let cp = 320;\r\n    let cl = 320;\r\n    let wp = kanvasCont.clientWidth;\r\n    let wl = kanvasCont.clientHeight;\r\n    console.log(wp + ' - ' + wl);\r\n    let ratio = Math.min((wp / cp), (wl / cl));\r\n    let cp2 = Math.floor(cp * ratio);\r\n    let cl2 = Math.floor(cl * ratio);\r\n    kanvas.style.width = cp2 + 'px';\r\n    kanvas.style.height = cl2 + 'px';\r\n    kanvas.style.top = ((wl - cl2) / 2) + 'px';\r\n    kanvas.style.left = ((wp - cp2) / 2) + 'px';\r\n    gambar();\r\n}\r\n"}],"html":[{"nama":"index.html","url":"index.html","konten":"\r\n\t<div class='room-gen'>\r\n\t\t<div class='canvas-cont'>\r\n\t\t\t<canvas width=\"320\" height=\"320\"></canvas>\r\n\t\t</div>\r\n\t\t<div class='setting-cont'>\r\n\t\t\t<div class='ukuran-cont'>\r\n\t\t\t\t<label>Ukuran Ruangan: <br />(10 - 50)</label>\r\n\t\t\t\t<input type='text' class='ukuran'>\r\n\t\t\t</div>\r\n\t\t\t<div class='tombol-cont'>\r\n\t\t\t\t<button class='reset'>Reset</button>\r\n\t\t\t\t<button class='bangun'>Langkah</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n"}]}}