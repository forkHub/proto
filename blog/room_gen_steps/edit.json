let config = {"nama":"test","file":{"css":[{"nama":"css.css","url":"css/css.css","konten":"html, body, div, canvas {\r\tbox-sizing: border-box;\r\tmargin: 0px;\r\tpadding: 0px;\r\toverflow-y: hidden;\r\toverflow-x: hidden;\r}\r\rhtml, body, canvas {\r\tbackground-color: black;\r\tcolor: black;\r}\r\rhtml, body {\r\theight: 100%;\r}\r\rbutton {\r\tmargin: 4px;\r\tpadding-top:4px;\r\tpadding-bottom: 4px;\r\tuser-select: none;\r\t-ms-user-select: none;\r\t-moz-user-select: none;\r\t-webkit-user-select: none;\r\tmax-width: 250px;\r}\r\rinput {\r\tmax-width: 300px;\r}\r\rcanvas {\r\tmargin: auto;\r\tposition: absolute;\r}\r\rdiv.room-gen {\r\tdisplay: flex;\r\tflex-direction: column;\r\theight: 100%;\r\tmax-width: 100vh;\r\tmargin:auto;\r\tbackground-color: antiquewhite;\r}\r\rdiv.room-gen div.canvas-cont {\r\tposition: relative;\r\tflex-grow: 1;\r\tbackground-color: black;\r}\r\rdiv.room-gen div.setting-cont {\r\tdisplay: flex;\r\tbackground-color: burlywood;\r}\r\rdiv.room-gen div.setting-cont div.ukuran-cont {\r\tdisplay: flex;\r\tflex-direction: column;\r\twidth: 50%;\r\tpadding: 8px;\r\t/* padding-left: 8px; */\r}\r\rdiv.room-gen div.setting-cont div.tombol-cont {\r\tdisplay: flex;\r\tflex-direction: column;\r\twidth: 50%;\r\ttext-align: center;\r\tpadding: 8px;\r}"}],"js":[{"nama":"RoomGen.js","url":"js/RoomGen.js","konten":"\"use strict\";\rconst RG_KOSONG = 1;\rconst RG_UBIN = 2;\rconst RG_TEMBOK = 3;\rconst RG_PINTU_KANAN = 4;\rconst RG_PINTU_KIRI = 5;\rconst RGST_AWAL = 1;\rconst RGST_TEMBOK = 2;\rconst RGST_PILIH_TEMBOK = 3;\rconst RGST_UBIN_BARU = 4;\rconst RGST_SELESAI = 5;\rlet rgPeta = [];\rlet rgState = 1;\rlet rgTembokAktif;\rlet rgJmlUbinMax = 40;\rlet rgJmlUbin = 0;\rlet rgPetaPjg = 10;\rlet rgPetalbr = 10;\r\r\nfunction rgPasangPintuKiri() {\r    let posx = 1000;\r    let posy = 1000;\r    for (let i = 0; i < rgPetalbr; i++) {\r        for (let j = 0; j < rgPetaPjg; j++) {\r            if (rgPeta[i][j].type == RG_TEMBOK) {\r                if (rgPintuKiriOk(i, j)) {\r                    if (i < posx) {\r                        posx = i;\r                        posy = j;\r                    }\r                }\r            }\r        }\r    }\r    if (posx < 1000) {\r        rgPeta[posx][posy].type = RG_PINTU_KIRI;\r    }\r}\r\r\nfunction rgPintuKiriOk(x, y) {\r    if (x == rgPetaPjg - 1)\r        return false;\r    if (rgPeta[x + 1][y].type != RG_UBIN)\r        return false;\r    return true;\r}\r\r\nfunction rgPintuKananOk(x, y) {\r    if (x == 0)\r        return false;\r    if (rgPeta[x - 1][y].type != RG_UBIN)\r        return false;\r    return true;\r}\r\r\nfunction rgSekelilingAdaUbin(x, y) {\r    if (x > 0) {\r        if (y > 0) {\r            if (rgPeta[x - 1][y - 1].type == RG_UBIN)\r                return true;\r        }\r        if (y < rgPetalbr - 1) {\r            if (rgPeta[x - 1][y + 1].type == RG_UBIN)\r                return true;\r        }\r    }\r    if (x < rgPetaPjg - 1) {\r        if (y > 0) {\r            if (rgPeta[x + 1][y - 1].type == RG_UBIN)\r                return true;\r        }\r        if (y < rgPetalbr - 1) {\r            if (rgPeta[x + 1][y + 1].type == RG_UBIN)\r                return true;\r        }\r    }\r    return rgSebelahAdaUbin(x, y);\r}\r\r\nfunction rgStateUbinBaru() {\r    if (rgTembokAktif) {\r        rgTembokAktif.type = RG_UBIN;\r        rgState = RGST_TEMBOK;\r        rgJmlUbin++;\r    }\r}\r\r\nfunction rgBuat() {\r    rgReset();\r    while (rgState != RGST_SELESAI) {\r        // console.log('udate state ' + rgState);\r        rgStateUpdate();\r    }\r}\r\r\nfunction rgPinggir(x, y) {\r    if (x == 0)\r        return true;\r    if (x == rgPetaPjg - 1)\r        return true;\r    if (y == 0)\r        return true;\r    if (y == rgPetalbr - 1)\r        return true;\r    return false;\r}\r\r\nfunction rgSebelahAdaUbin(x, y) {\r    if (x > 0) {\r        if (rgPeta[x - 1][y].type == RG_UBIN)\r            return true;\r    }\r    if (x < rgPetaPjg - 1) {\r        if (rgPeta[x + 1][y].type == RG_UBIN)\r            return true;\r    }\r    if (y > 0) {\r        if (rgPeta[x][y - 1].type == RG_UBIN)\r            return true;\r    }\r    if (y < rgPetalbr - 1) {\r        if (rgPeta[x][y + 1].type == RG_UBIN)\r            return true;\r    }\r    return false;\r}\r\r\nfunction rgPasangPintuKanan() {\r    let posx = -1;\r    let posy = -1;\r    for (let i = 0; i < rgPetalbr; i++) {\r        for (let j = 0; j < rgPetaPjg; j++) {\r            if (rgPeta[i][j].type == RG_TEMBOK) {\r                if (rgPintuKananOk(i, j)) {\r                    if (i > posx) {\r                        posx = i;\r                        posy = j;\r                    }\r                }\r            }\r        }\r    }\r    if (posx >= 0) {\r        rgPeta[posx][posy].type = RG_PINTU_KANAN;\r    }\r}\r\r\nfunction rgStateAwal() {\r    rgPeta[Math.floor(rgPetaPjg / 2)][Math.floor(rgPetalbr / 2)].type = RG_UBIN;\r    rgState = RGST_TEMBOK;\r}\r\r\nfunction rgStateBangunTembok() {\r    //set tembok\r    for (let i = 0; i < rgPetalbr; i++) {\r        for (let j = 0; j < rgPetaPjg; j++) {\r            if (rgPeta[i][j].type == RG_KOSONG) {\r                if (rgSekelilingAdaUbin(i, j)) {\r                    rgPeta[i][j].type = RG_TEMBOK;\r                }\r            }\r        }\r    }\r    if (rgJmlUbin >= rgJmlUbinMax) {\r        rgPasangPintuKiri();\r        rgPasangPintuKanan();\r        rgState = RGST_SELESAI;\r    }\r    else {\r        rgState = RGST_PILIH_TEMBOK;\r    }\r}\r\r\nfunction rgStatePilihTembok() {\r    let kotakAr = [];\r    for (let i = 0; i < rgPetalbr; i++) {\r        for (let j = 0; j < rgPetaPjg; j++) {\r            if (rgPeta[i][j].type == RG_TEMBOK) {\r                if (rgSebelahAdaUbin(i, j) && !rgPinggir(i, j)) {\r                    kotakAr.push(rgPeta[i][j]);\r                }\r            }\r        }\r    }\r    rgTembokAktif = kotakAr[Math.floor(Math.random() * kotakAr.length)];\r    rgState = RGST_UBIN_BARU;\r}\r\r\nfunction rgReset() {\r    for (let i = 0; i < rgPetalbr; i++) {\r        rgPeta[i] = new Array(10);\r        for (let j = 0; j < rgPetaPjg; j++) {\r            rgPeta[i][j] = {\r                type: RG_KOSONG,\r                pemilik: []\r            };\r        }\r    }\r    rgState = RGST_AWAL;\r}\r\r\nfunction rgStateUpdate() {\r    // state++;\r    if (rgState == RGST_AWAL) {\r        rgStateAwal();\r    }\r    else if (rgState == RGST_TEMBOK) {\r        rgStateBangunTembok();\r    }\r    else if (rgState == RGST_PILIH_TEMBOK) {\r        rgStatePilihTembok();\r    }\r    else if (rgState == RGST_UBIN_BARU) {\r        rgStateUbinBaru();\r    }\r    else if (rgState == RGST_SELESAI) {\r        //selesai\r    }\r    else {\r        throw Error('state tidak terdaftar');\r    }\r}\r"},{"nama":"Game.js","url":"js/Game.js","konten":"\"use strict\";\rlet kanvas;\rlet kanvasCont;\rlet kanvasCtx;\rlet resetTbl;\rlet bangunTbl;\rlet ukuranInput;\rconst waranaUbin = '#00c000';\rconst warnaTembok = '#808080';\rconst warnaTembokPilih = '#c0c000';\rconst warnaPinggir = '#c00000';\rconst warnaDasar = '#202020';\rconst warnaPintuKanan = '#0000c0';\r\r\nwindow.onload = () => {\r    kanvas = document.body.querySelector('canvas');\r    kanvasCtx = kanvas.getContext(\"2d\");\r    kanvasCont = document.body.querySelector('div.room-gen div.canvas-cont');\r    resetTbl = document.body.querySelector('button.reset');\r    ukuranInput = document.body.querySelector('input.ukuran');\r    bangunTbl = document.body.querySelector('button.bangun');\r    bangunTbl.disabled = true;\r\r\n    bangunTbl.onclick = (e) => {\r        e.stopPropagation();\r        rgStateUpdate();\r        gambar();\r    };\r\r\n    ukuranInput.oninput = (e) => {\r        e.stopPropagation();\r        bangunTbl.disabled = true;\r    };\r\r\n    resetTbl.onclick = (e) => {\r        e.stopPropagation();\r        rgJmlUbinMax = parseInt(ukuranInput.value);\r        if (isNaN(rgJmlUbinMax)) {\r            rgJmlUbinMax = 50;\r        }\r        if (rgJmlUbinMax < 10)\r            rgJmlUbinMax = 10;\r        if (rgJmlUbinMax > 50)\r            rgJmlUbinMax = 50;\r        rgJmlUbin = 0;\r        console.log(rgJmlUbinMax);\r        bangunTbl.disabled = false;\r        rgReset();\r        rgStateUpdate();\r        gambar();\r    };\r    rgReset();\r    window.onresize = resize;\r    resize();\r};\r\r\nfunction gambar() {\r    console.log('gambar');\r    kanvasCtx.clearRect(0, 0, 320, 320);\r    for (let i = 0; i < rgPetalbr; i++) {\r        for (let j = 0; j < rgPetaPjg; j++) {\r            if (rgPeta[i][j].type == RG_KOSONG) {\r                kanvasCtx.fillStyle = warnaDasar;\r                kanvasCtx.fillRect(i * 32, j * 32, 32, 32);\r            }\r            else if (rgPeta[i][j].type == RG_TEMBOK) {\r                if (rgPeta[i][j] == rgTembokAktif) {\r                    kanvasCtx.fillStyle = warnaTembokPilih;\r                    kanvasCtx.fillRect(i * 32, j * 32, 32, 32);\r                }\r                else {\r                    kanvasCtx.fillStyle = warnaTembok;\r                    kanvasCtx.fillRect(i * 32, j * 32, 32, 32);\r                }\r            }\r            else if (rgPeta[i][j].type == RG_UBIN) {\r                kanvasCtx.fillStyle = waranaUbin;\r                kanvasCtx.fillRect(i * 32, j * 32, 32, 32);\r            }\r            else if (rgPeta[i][j].type == RG_PINTU_KANAN) {\r                kanvasCtx.fillStyle = warnaPintuKanan;\r                kanvasCtx.fillRect(i * 32, j * 32, 32, 32);\r            }\r            else if (rgPeta[i][j].type == RG_PINTU_KIRI) {\r                kanvasCtx.fillStyle = warnaPintuKanan;\r                kanvasCtx.fillRect(i * 32, j * 32, 32, 32);\r            }\r        }\r    }\r}\r\r\nfunction resize() {\r    let cp = 320;\r    let cl = 320;\r    let wp = kanvasCont.clientWidth;\r    let wl = kanvasCont.clientHeight;\r    console.log(wp + ' - ' + wl);\r    let ratio = Math.min((wp / cp), (wl / cl));\r    let cp2 = Math.floor(cp * ratio);\r    let cl2 = Math.floor(cl * ratio);\r    kanvas.style.width = cp2 + 'px';\r    kanvas.style.height = cl2 + 'px';\r    kanvas.style.top = ((wl - cl2) / 2) + 'px';\r    kanvas.style.left = ((wp - cp2) / 2) + 'px';\r    gambar();\r}\r"}],"html":[{"nama":"index.html","url":"index.html","konten":"\r\n\t<div class='room-gen'>\r\n\t\t<div class='canvas-cont'>\r\n\t\t\t<canvas width=\"320\" height=\"320\"></canvas>\r\n\t\t</div>\r\n\t\t<div class='setting-cont'>\r\n\t\t\t<div class='ukuran-cont'>\r\n\t\t\t\t<label>Ukuran Ruangan: <br />(10 - 50)</label>\r\n\t\t\t\t<input type='text' class='ukuran'>\r\n\t\t\t</div>\r\n\t\t\t<div class='tombol-cont'>\r\n\t\t\t\t<button class='reset'>Reset</button>\r\n\t\t\t\t<button class='bangun'>Langkah</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n"}]}}